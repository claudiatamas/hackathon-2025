{% extends 'layout.twig' %}
{% block title %}Edit Expense{% endblock %}
{% block content %}
    <h1 class="text-3xl font-semibold mb-6 text-gray-800 mx-auto w-max">Edit Expense</h1>
    <section class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-md">
        <form action="/expenses/{{ expense.id }}" method="POST" class="">
            <div class="mb-5">
                <label for="date" class="block mb-1 font-medium text-gray-700">Date:</label>
                <input 
                    type="date" id="date" name="date" required
                    value="{{ expense.date|date('Y-m-d') }}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                >
            </div>

            <div class="mb-5">
                <label for="category" class="block mb-1 font-medium text-gray-700">Category:</label>
                <select id="category" name="category" required
                    class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Select a category</option>
                    {% for category in categories %}
                        <option value="{{ category }}" {% if expense.category == category %}selected{% endif %}>{{ category|capitalize }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-5">
                <label for="amount" class="block mb-1 font-medium text-gray-700">Amount:</label>
                <input 
                    type="number" id="amount" name="amount" step="0.01" required
                    value="{{ expense.amount }}"
                    class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                >
            </div>

            <div class="mb-6">
                <label for="description" class="block mb-1 font-medium text-gray-700">Description:</label>
                <textarea id="description" name="description" rows="3"
                    class="w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">{{ expense.description }}</textarea>
            </div>

            <div class="text-right space-x-3">
                <a href="/expenses"
                   class="inline-block bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-5 rounded-md transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-gray-300">
                    Cancel
                </a>
                <button type="submit"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-5 rounded-md transition-colors duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300">
                    Update
                </button>
            </div>
        </form>
    </section>
{% endblock %}
